# JS的执行阶段
  JS引擎是线程，它在执行时，有一个调用栈和一个任务队列。调用栈里面是一层层的执行上下文；而任务队列里面是一个个的回调函数。JS引擎在执行代码时会在调用栈中创建相应执行上下文，然后执行相应的代码,碰到异步操作，其会将它交给浏览器的相应处理模块进行处理，待浏览器的相应处理模块处理完后，将异步操作的回调函数加到任务队列中，然后在JS引擎执行完调用栈中的执行上下文内容时，回过头来查看并执行任务队列中的代码。

  注:js任务又分为宏任务和微任务，所以任务队列又有宏任务队列和微任务队列。微任务队列先执行、然后宏任务队列后执行。
     常见的宏任务:script(整体代码), setTimeout, setInterval, setImmediate, I/O, UI rendering
     常见的微任务:process.nextTick, Promises, Object.observe, MutationObserver

## 执行上下文：
     在首次载入脚本的时候创建全局执行上下文，并压入栈顶，然后在每次进入其他作用域的时候创建对应的上下文，并压入栈顶。当对应上下文执行完毕后，就弹出栈顶(注:全局执行上下文不可弹出)，并进行垃圾回收(注:有变量被引用的时候不可进行垃圾回收，即存在闭包时，不能进行垃圾回收)。

  1.变量：变量对象
  2.this指针：活动对象。在函数执行时创建的对象，其一般含有内部定义的普通变量和从其他上下文传过来的参数变量以及一个arguments变量。
  3.作用域链：

# js事件循环机制及其与node端的不同：
  先执行完执行栈，然后查询事件任务队列，若事件任务队列中有事件，则读取事件任务队列，将相应事件回调放在主线程执行。当执行完成后，再循环去事件队列读取事件，继续执行。

  详情参见:http://www.jb51.net/article/130342.htm